# ğŸ—ï¸ GeoLens - ç³»ç»Ÿæ¶æ„è®¾è®¡

## ğŸ“‹ æ¶æ„æ¦‚è¿°

GeoLens æ˜¯ä¸“ä¸šçš„AIå¼•ç”¨æ£€æµ‹å¹³å°ï¼Œé‡‡ç”¨åç«¯ä¼˜å…ˆçš„æ•æ·æ¶æ„ã€‚ç³»ç»Ÿä¸“æ³¨äºå“ç‰Œåœ¨ç”Ÿæˆå¼AIä¸­çš„å¼•ç”¨æ£€æµ‹ï¼Œæä¾›å¤šæ¨¡å‹å¹¶è¡Œåˆ†æã€æ•°æ®æŒä¹…åŒ–å’Œç«å“å¯¹æ¯”åŠŸèƒ½ã€‚å½“å‰ç‰ˆæœ¬v0.7.0å·²å®Œæˆç«¯åˆ°ç«¯éªŒè¯ï¼Œç”Ÿäº§å°±ç»ªã€‚

---

## ğŸ¯ æ¶æ„åŸåˆ™

### æ ¸å¿ƒåŸåˆ™
- **å¯æ‰©å±•æ€§**: æ”¯æŒæ°´å¹³æ‰©å±•ï¼Œåº”å¯¹ç”¨æˆ·å¢é•¿
- **å¯ç»´æŠ¤æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºå¼€å‘å’Œç»´æŠ¤
- **å¯é æ€§**: é«˜å¯ç”¨æ¶æ„ï¼Œç¡®ä¿æœåŠ¡ç¨³å®š
- **å®‰å…¨æ€§**: å¤šå±‚å®‰å…¨é˜²æŠ¤ï¼Œä¿æŠ¤ç”¨æˆ·æ•°æ®
- **æ€§èƒ½**: ä¼˜åŒ–å“åº”æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

### è®¾è®¡æ¨¡å¼
- **åˆ†å±‚æ¶æ„**: è¡¨ç°å±‚ã€ä¸šåŠ¡å±‚ã€æ•°æ®å±‚åˆ†ç¦»
- **å¾®æœåŠ¡**: åŠŸèƒ½æ¨¡å—ç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•
- **äº‹ä»¶é©±åŠ¨**: å¼‚æ­¥å¤„ç†æå‡ç³»ç»Ÿæ€§èƒ½
- **ç¼“å­˜ä¼˜å…ˆ**: å¤šçº§ç¼“å­˜å‡å°‘æ•°æ®åº“å‹åŠ›

---

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Web App (Next.js)  â”‚  Mobile App (Future)  â”‚  API Docs     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APIç½‘å…³å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Nginx/Cloudflare (è´Ÿè½½å‡è¡¡ + CDN)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åº”ç”¨æœåŠ¡å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Auth Service  â”‚  Project Service  â”‚  Mention Detection     â”‚
â”‚  (Supabase)    â”‚  (FastAPI)        â”‚  Service (FastAPI)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å­˜å‚¨å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQLite (Dev)  â”‚  PostgreSQL     â”‚  Redis Cache            â”‚
â”‚  æœ¬åœ°æ•°æ®åº“     â”‚  (Supabase)     â”‚  (ç¼“å­˜)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å¤–éƒ¨é›†æˆå±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  OpenAI API    â”‚  è±†åŒ…API         â”‚  DeepSeek API           â”‚
â”‚  (GPT-4)       â”‚  (å­—èŠ‚è·³åŠ¨)       â”‚  (æ·±åº¦æ±‚ç´¢)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æŠ€æœ¯æ ˆè¯¦è§£

### å‰ç«¯æŠ€æœ¯æ ˆ
```yaml
æ¡†æ¶: Next.js 14 (App Router)
è¯­è¨€: TypeScript
æ ·å¼: Tailwind CSS
çŠ¶æ€ç®¡ç†: Zustand / React Query
å›¾è¡¨: Recharts / Chart.js
éƒ¨ç½²: Vercel
```

### åç«¯æŠ€æœ¯æ ˆ (v0.7.0 å·²å®ç°)
```yaml
æ¡†æ¶: FastAPI (Python 3.11+)
æ•°æ®åº“: SQLite + aiosqlite (å¼‚æ­¥æŒä¹…åŒ–)
ORM: SQLAlchemy + Alembic
æ¶æ„: ç»Ÿä¸€æœåŠ¡æ¶æ„ï¼ŒRepositoryæ¨¡å¼
AIé›†æˆ: è±†åŒ…API + DeepSeek API (çœŸå®é›†æˆ)
æµ‹è¯•: ç«¯åˆ°ç«¯æµ‹è¯• (82.4%é€šè¿‡ç‡)
éƒ¨ç½²: æœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§å°±ç»ª
```

### ä¸‹ä¸€é˜¶æ®µæŠ€æœ¯æ ˆ (Sprint 6)
```yaml
æ•°æ®åº“: PostgreSQL + Supabase (äº‘è¿ç§»)
å‰ç«¯: React + TypeScript
è®¤è¯: Supabase Auth
éƒ¨ç½²: Vercel + Railway
```

### AIå¼•ç”¨æ£€æµ‹å¼•æ“ (å·²éªŒè¯)
```yaml
AIæ¨¡å‹: è±†åŒ…API + DeepSeek API (çœŸå®é›†æˆ)
æ£€æµ‹ç®—æ³•: ç»Ÿä¸€å“ç‰Œæ£€æµ‹æœåŠ¡ (100%å‡†ç¡®ç‡)
å¹¶è¡Œå¤„ç†: å¤šæ¨¡å‹åŒæ—¶è°ƒç”¨
æ•°æ®æŒä¹…åŒ–: Repositoryæ¨¡å¼ + SQLite
ç«¯åˆ°ç«¯éªŒè¯: 82.4%æµ‹è¯•é€šè¿‡ç‡
```

---

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 1. ç”¨æˆ·è®¤è¯æ¨¡å— (Auth Service)
```python
# åŠŸèƒ½èŒè´£
- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- JWTä»¤ç‰Œç®¡ç†
- æƒé™æ§åˆ¶
- ä¼šè¯ç®¡ç†

# æŠ€æœ¯å®ç°
- Supabase Auth (OAuth + Email)
- JWT + Refresh Token
- Row Level Security (RLS)
```

### 2. é¡¹ç›®ç®¡ç†æ¨¡å— (Project Service)
```python
# åŠŸèƒ½èŒè´£
- é¡¹ç›®CRUDæ“ä½œ
- ç”¨æˆ·é¡¹ç›®å…³è”
- é¡¹ç›®é…ç½®ç®¡ç†
- æ•°æ®æƒé™æ§åˆ¶

# æŠ€æœ¯å®ç°
- FastAPI + SQLAlchemy
- PostgreSQLæ•°æ®å­˜å‚¨
- RESTful APIè®¾è®¡
```

### 3. å¼•ç”¨æ£€æµ‹æ¨¡å— (Mention Detection Service)
```python
# åŠŸèƒ½èŒè´£
- å¤šæ¨¡å‹å¹¶è¡Œè°ƒç”¨ (è±†åŒ…ã€DeepSeekã€ChatGPT)
- æ™ºèƒ½å®ä½“è¯†åˆ«å’Œå“ç‰ŒæåŠæ£€æµ‹
- å¼•ç”¨é¢‘ç‡ç»Ÿè®¡å’Œåˆ†æ
- ä¸Šä¸‹æ–‡æå–å’Œé«˜äº®æ˜¾ç¤º
- ç«å“å¯¹æ¯”åˆ†æ
- å†å²è®°å½•ç®¡ç†å’ŒPromptæ¨¡æ¿åº“

# æŠ€æœ¯å®ç°
- NER + å…³é”®è¯åŒ¹é…ç®—æ³• (å‡†ç¡®ç‡100%)
- å¤šAIæœåŠ¡ç»Ÿä¸€è°ƒç”¨å±‚
- Repositoryæ¨¡å¼æ•°æ®è®¿é—®å±‚
- SQLiteæœ¬åœ°æŒä¹…åŒ–å­˜å‚¨
- å¼‚æ­¥æ•°æ®åº“æ“ä½œå’Œäº‹åŠ¡ç®¡ç†
- å®Œæ•´çš„æµ‹è¯•è¦†ç›– (100%æ•°æ®åº“æµ‹è¯•)
```

### 4. å†…å®¹å¤„ç†æ¨¡å— (Content Processing Service)
```python
# åŠŸèƒ½èŒè´£
- å¤šç§å†…å®¹è¾“å…¥å¤„ç†
- å†…å®¹è§£æå’Œæ¸…æ´—
- æ ¼å¼æ ‡å‡†åŒ–
- ç»“æ„åŒ–æ•°æ®æå–

# æŠ€æœ¯å®ç°
- BeautifulSoupå†…å®¹è§£æ
- å¤šæ ¼å¼å†…å®¹æ”¯æŒ
- æ™ºèƒ½æ–‡æœ¬æ¸…æ´—
- å†…å®¹è´¨é‡éªŒè¯
```

---

## ğŸ”„ æ•°æ®æµè®¾è®¡

### 1. ç”¨æˆ·æ³¨å†Œæµç¨‹
```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant F as å‰ç«¯
    participant A as AuthæœåŠ¡
    participant D as æ•°æ®åº“
    
    U->>F: æäº¤æ³¨å†Œä¿¡æ¯
    F->>A: å‘é€æ³¨å†Œè¯·æ±‚
    A->>D: åˆ›å»ºç”¨æˆ·è®°å½•
    D-->>A: è¿”å›ç”¨æˆ·ID
    A-->>F: è¿”å›JWTä»¤ç‰Œ
    F-->>U: æ³¨å†ŒæˆåŠŸï¼Œè·³è½¬é¦–é¡µ
```

### 2. å¼•ç”¨æ£€æµ‹æµç¨‹
```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant F as å‰ç«¯
    participant API as APIæœåŠ¡
    participant MD as å¼•ç”¨æ£€æµ‹å¼•æ“
    participant AI as AIæ¨¡å‹æœåŠ¡
    participant D as æ•°æ®åº“

    U->>F: æäº¤å¼•ç”¨æ£€æµ‹è¯·æ±‚
    F->>API: å‘é€Promptå’Œå“ç‰Œåˆ—è¡¨
    API->>MD: æ‰§è¡Œå¼•ç”¨æ£€æµ‹
    MD->>AI: å¹¶è¡Œè°ƒç”¨å¤šä¸ªAIæ¨¡å‹
    AI-->>MD: è¿”å›AIå›ç­”
    MD->>MD: å®ä½“è¯†åˆ«å’Œå¼•ç”¨åˆ†æ
    MD->>D: ä¿å­˜æ£€æµ‹ç»“æœ
    D-->>API: è¿”å›æ£€æµ‹ç»“æœ
    API-->>F: è¿”å›å¼•ç”¨é¢‘ç‡å’Œä¸Šä¸‹æ–‡
    F-->>U: æ˜¾ç¤ºæ£€æµ‹ç»“æœå’Œå¯è§†åŒ–
```

---

## ğŸš€ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
```yaml
å‰ç«¯: localhost:3000 (Next.js Dev Server)
åç«¯: localhost:8000 (FastAPI + Uvicorn)
æ•°æ®åº“: SQLiteæœ¬åœ°æ–‡ä»¶ (data/geolens.db)
ç¼“å­˜: Redis Cloud (å…è´¹å±‚)
ç‰¹ç‚¹: é›¶é…ç½®å¯åŠ¨ï¼Œæœ¬åœ°ä¼˜å…ˆå¼€å‘
```

### ç”Ÿäº§ç¯å¢ƒ
```yaml
å‰ç«¯: Vercel (å…¨çƒCDN)
åç«¯: Railway (å®¹å™¨åŒ–éƒ¨ç½²)
æ•°æ®åº“: Supabase (ç”Ÿäº§çº§PostgreSQL)
ç¼“å­˜: Redis Cloud (é«˜å¯ç”¨é›†ç¾¤)
ç›‘æ§: Sentry + Vercel Analytics
```

### CI/CDæµæ°´çº¿
```yaml
ä»£ç æäº¤: GitHub
è‡ªåŠ¨æµ‹è¯•: GitHub Actions
æ„å»ºéƒ¨ç½²: 
  - å‰ç«¯: Vercelè‡ªåŠ¨éƒ¨ç½²
  - åç«¯: Railwayè‡ªåŠ¨éƒ¨ç½²
è´¨é‡æ£€æŸ¥: SonarCloud
å®‰å…¨æ‰«æ: Snyk
```

---

## ğŸ”’ å®‰å…¨æ¶æ„

### è®¤è¯ä¸æˆæƒ
- **å¤šå› ç´ è®¤è¯**: é‚®ç®± + å¯†ç  + å¯é€‰2FA
- **JWTä»¤ç‰Œ**: çŸ­æœŸè®¿é—®ä»¤ç‰Œ + é•¿æœŸåˆ·æ–°ä»¤ç‰Œ
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- **APIé™æµ**: é˜²æ­¢æ¶æ„è¯·æ±‚å’ŒDDoSæ”»å‡»

### æ•°æ®å®‰å…¨
- **ä¼ è¾“åŠ å¯†**: HTTPS/TLS 1.3
- **å­˜å‚¨åŠ å¯†**: æ•°æ®åº“å­—æ®µçº§åŠ å¯†
- **æ•æ„Ÿä¿¡æ¯**: ç¯å¢ƒå˜é‡ç®¡ç†
- **æ•°æ®å¤‡ä»½**: è‡ªåŠ¨åŒ–å¤‡ä»½ç­–ç•¥

### åº”ç”¨å®‰å…¨
- **è¾“å…¥éªŒè¯**: ä¸¥æ ¼çš„å‚æ•°æ ¡éªŒ
- **SQLæ³¨å…¥é˜²æŠ¤**: ORMå‚æ•°åŒ–æŸ¥è¯¢
- **XSSé˜²æŠ¤**: å†…å®¹å®‰å…¨ç­–ç•¥(CSP)
- **CSRFé˜²æŠ¤**: ä»¤ç‰ŒéªŒè¯æœºåˆ¶

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**: æŒ‰è·¯ç”±å’Œç»„ä»¶åˆ†å‰²
- **å›¾ç‰‡ä¼˜åŒ–**: Next.js Imageç»„ä»¶
- **ç¼“å­˜ç­–ç•¥**: æµè§ˆå™¨ç¼“å­˜ + CDNç¼“å­˜
- **æ‡’åŠ è½½**: ç»„ä»¶å’Œæ•°æ®æ‡’åŠ è½½

### åç«¯ä¼˜åŒ–
- **æ•°æ®åº“ä¼˜åŒ–**: ç´¢å¼•ä¼˜åŒ– + æŸ¥è¯¢ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: Rediså¤šçº§ç¼“å­˜
- **å¼‚æ­¥å¤„ç†**: Celeryä»»åŠ¡é˜Ÿåˆ—
- **è¿æ¥æ± **: æ•°æ®åº“è¿æ¥æ± ç®¡ç†

### ç³»ç»Ÿç›‘æ§
- **æ€§èƒ½ç›‘æ§**: APMå·¥å…·é›†æˆ
- **é”™è¯¯è¿½è¸ª**: Sentryé”™è¯¯æ”¶é›†
- **æ—¥å¿—ç®¡ç†**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
- **å‘Šè­¦æœºåˆ¶**: å…³é”®æŒ‡æ ‡ç›‘æ§å‘Šè­¦

---

## ğŸ”® æ‰©å±•æ€§è®¾è®¡

### æ°´å¹³æ‰©å±•
- **æ— çŠ¶æ€è®¾è®¡**: APIæœåŠ¡æ— çŠ¶æ€åŒ–
- **è´Ÿè½½å‡è¡¡**: å¤šå®ä¾‹è´Ÿè½½åˆ†å‘
- **æ•°æ®åº“åˆ†ç‰‡**: æŒ‰ç”¨æˆ·æˆ–é¡¹ç›®åˆ†ç‰‡
- **ç¼“å­˜é›†ç¾¤**: Redisé›†ç¾¤æ¨¡å¼

### åŠŸèƒ½æ‰©å±•
- **æ’ä»¶æ¶æ„**: æ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶
- **APIå¼€æ”¾**: RESTful APIå¯¹å¤–å¼€æ”¾
- **å¤šç§Ÿæˆ·**: æ”¯æŒä¼ä¸šçº§å¤šç§Ÿæˆ·
- **å›½é™…åŒ–**: å¤šè¯­è¨€å’Œå¤šåœ°åŒºæ”¯æŒ

---

---

## ğŸ—„ï¸ æ•°æ®åº“æ¶æ„è®¾è®¡

### æ¸è¿›å¼æ•°æ®åº“ç­–ç•¥
```
Phase 1: å†…å­˜å­˜å‚¨ âœ… (å·²å®Œæˆ)
    â†“
Phase 2: SQLiteæœ¬åœ°å­˜å‚¨ âœ… (å½“å‰)
    â†“
Phase 3: PostgreSQLäº‘å­˜å‚¨ ğŸš€ (è®¡åˆ’ä¸­)
```

### SQLiteæ•°æ®æ¨¡å‹
```sql
-- å¼•ç”¨æ£€æµ‹è®°å½•è¡¨
mention_checks (
    id, project_id, user_id, prompt,
    brands_checked, models_used, status,
    total_mentions, mention_rate, avg_confidence,
    created_at, completed_at, extra_metadata
)

-- æ¨¡å‹æ£€æµ‹ç»“æœè¡¨
mention_results (
    id, check_id, model, response_text,
    processing_time_ms, error_message, created_at
)

-- å“ç‰ŒæåŠè¯¦æƒ…è¡¨
brand_mentions (
    id, result_id, brand, mentioned,
    confidence_score, context_snippet, position, created_at
)

-- Promptæ¨¡æ¿è¡¨
prompt_templates (
    id, user_id, name, category, template,
    variables, description, usage_count, is_public,
    created_at, updated_at
)

-- ç»Ÿè®¡åˆ†æç¼“å­˜è¡¨
analytics_cache (
    id, cache_key, project_id, brand, timeframe,
    data, expires_at, created_at
)
```

### Repositoryæ¨¡å¼æ¶æ„
```python
# æ•°æ®è®¿é—®å±‚æŠ½è±¡
class MentionRepository:
    - create_check()           # åˆ›å»ºæ£€æµ‹è®°å½•
    - get_check_by_id()        # è·å–æ£€æµ‹è®°å½•
    - update_check_status()    # æ›´æ–°æ£€æµ‹çŠ¶æ€
    - save_result()            # ä¿å­˜æ¨¡å‹ç»“æœ
    - save_mentions()          # ä¿å­˜å“ç‰ŒæåŠ
    - get_brand_mention_stats() # è·å–ç»Ÿè®¡æ•°æ®
    - get_brand_comparison_stats() # è·å–å¯¹æ¯”æ•°æ®
```

---

## ğŸ”— å‰åç«¯é›†æˆæ¶æ„

### é›†æˆçŠ¶æ€æ¦‚è§ˆ
**æ€»ä½“é›†æˆå®Œæˆåº¦**: 85%

| åŠŸèƒ½æ¨¡å— | å‰ç«¯å®ç° | åç«¯API | é›†æˆçŠ¶æ€ |
|----------|----------|---------|----------|
| ç”¨æˆ·è®¤è¯ | âœ… å®Œæ•´ | âœ… å®Œæ•´ | ğŸŸ¢ å°±ç»ª |
| é¡¹ç›®ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | ğŸŸ¢ å°±ç»ª |
| å¼•ç”¨æ£€æµ‹ | âœ… å®Œæ•´ | âœ… å®Œæ•´ | ğŸŸ¢ å°±ç»ª |
| å†å²è®°å½• | âœ… å®Œæ•´ | âœ… å®Œæ•´ | ğŸŸ¢ å°±ç»ª |
| æ¨¡æ¿ç®¡ç† | âœ… å®Œæ•´ | âš ï¸ éœ€ç¡®è®¤ | ğŸŸ¡ å¾…éªŒè¯ |

### APIç«¯ç‚¹æ˜ å°„
```
å‰ç«¯è°ƒç”¨ -> åç«¯ç«¯ç‚¹
"api/check-mention" -> "/api/v1/api/check-mention"
"api/get-history" -> "/api/v1/api/get-history"
"projects" -> "/api/v1/projects"
"auth/login" -> "/api/v1/auth/login"
```

### åŒæ¨¡å¼æ¶æ„
- ğŸ­ **æ¼”ç¤ºæ¨¡å¼**: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œæ— éœ€åç«¯æœåŠ¡
- ğŸ”— **çœŸå®æ¨¡å¼**: å®Œæ•´çš„å‰åç«¯APIé›†æˆ
- ğŸ”„ **æ— ç¼åˆ‡æ¢**: ä¸€é”®åˆ‡æ¢è¿è¡Œæ¨¡å¼

### é›†æˆæµ‹è¯•å·¥å…·
- ğŸ“‹ **ç®€å•æµ‹è¯•**: `python scripts/simple_integration_test.py`
- ğŸš€ **è‡ªåŠ¨åŒ–æµ‹è¯•**: `./scripts/start_e2e_test.sh`
- ğŸ”§ **åç«¯æµ‹è¯•**: `./scripts/test_backend_only.sh`

---

*æœ€åæ›´æ–°: 2024-12-19*
*æ¶æ„ç‰ˆæœ¬: v2.3 - å‰åç«¯é›†æˆå®Œæˆ*
